# Object类详解

---

## 1. 概述

java.lang.Object：是Java语言中的根类，即所有类的父类。它所描述的方法所有子类都可以使用。
如果一个类没有特别指定父类，那么默认继承自Object类。

## 2. 成员方法

### 2.1. toString方法

`public String toString()` ：返回该对象的字符串表示。默认：`对象的类型+@+内存地址值`。

- 如果不希望使用toString方法的默认行为，则可以对它进行覆盖重写。
- Scanner、ArrayList已经重写了toString方法。

### 2.2. equals方法

`public boolean equals(Object obj)` ：指示其他某个对象是否与此对象“相等”。（内部隐含了一个强制类型转换）

- 默认地址比较

如果没有覆盖重写equals方法，那么Object类中默认进行 == 运算符的对象地址比较，只要不是同一个对象，结果 必然为false。

- 对象内容比较

如果希望进行对象的内容比较，即所有或指定的部分成员变量相同就判定两个对象相同，则可以覆盖重写equals方法。
Integer、String已经重写了equals方法。

- 可能存在空指针异常。

#### 2.2.1. == 和 equals 的区别

- `==` 是一个比较运算符，可以比较基本数据类型，也可以比较引用数据类型；
- `==` 比较基本数据类型，判断的是值是否相等。如：int a = 10; double b = 10.0; boolean res = a == b; // true
- `==` 比较引用数据类型，判断的是地址值是否相等，即判断是不是同一个对象。

- `equals` 是 `Object` 类中的方法，只能判断引用数据类型；
- `equals` 默认判断是地址是否相等，子类往往重写该方法，用于判断内容是否相等。Integer、String已经重写了equals方法。

### 2.3. hashCode方法

`public int hashCode()` ：返回该对象的哈希码值。

- 提高具有哈希结构的容器的效率；
- 两个引用，如果指向的是同一个对象，则哈希值肯定是一样的；
- 两个引用，如果指向的是不同对象，则哈希值是不一样的；
- 哈希值主要根据地址值来的，不能完全将哈希值等价于地址。

### 2.4. finalize方法

- 当对象被回收时，系统自动调用该对象的 finalize 方法。子类可以重写该方法；
- 什么时候被回收：当某个对象没有任何引用时，则 jvm 就认为这个对象是一个垃圾对象，
就会使用垃圾回收机制来销毁该对象，在销毁该对象前，会先调用 finalize 方法。
- 垃圾回收机制的调用，是由系统来决定(即有自己的 GC 算法), 也可以通过 System.gc() 主动触发垃圾回收机制；
- 在实际开发中，几乎不会运用 finalize , 所以更多就是为了应付面试。

